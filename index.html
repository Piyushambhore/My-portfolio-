<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piyush | Creative Developer</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;500&family=Syne:wght@400;700;800&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link rel="stylesheet" href="style.css">

    <style>
        /* --- VISITOR COUNTER (below brand) --- */
        .visitor-counter {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            border-radius: 100px;
            padding: 6px 14px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            font-family: 'Manrope', sans-serif;
            font-size: 0.85rem;
            animation: fadeIn 0.6s ease-out;
        }

        .visitor-counter .icon {
            font-size: 1rem;
            color: #2ecc71;
        }

        .visitor-counter .count {
            font-family: 'Syne', sans-serif;
            font-weight: 700;
            background: linear-gradient(135deg, #2ecc71, #2997ff);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .visitor-counter .label {
            color: #888;
            font-size: 0.75rem;
        }

        .nav-left {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body>
    <div class="launch-bar">
        <div class="launch-text">
            ‼️ Customized websites are launching soon ‼️• Tailored design • Premium experience
        </div>
    </div>

    <div class="noise-overlay"></div>

    <div class="loader">
        <div class="loader-text">PIYUSH</div>
        <div class="loader-line"></div>
    </div>

    <main class="container">

        <nav class="nav">
            <div class="nav-left">
                <div class="brand">@CodeByPiyush</div>
                <!-- Visitor Counter below brand -->
                <div class="visitor-counter" id="visitor-counter">
                    <i class="ph-fill ph-users icon"></i>
                    <span class="count" id="visitor-count">---</span>
                    <span class="label">visitors</span>
                </div>
            </div>
            <div class="status-dot">Available for work</div>
        </nav>

        <section class="hero" id="hero">

            <div class="parallax-layer bg-text">
                <h1>CREATIVE<br>DEVELOPER</h1>
            </div>

            <div class="parallax-layer hero-image-wrapper">
                <img src="cf6e4796-0c16-45fa-827c-147dacad7140-removebg-preview.png" alt="Piyush" class="hero-img">

                <div class="glass-card">
                    <p>Based in India</p>
                    <p>Web & Chaos</p>
                </div>
            </div>

        </section>

        <div class="dock-container">
            <div class="dock">

                <a href="#" class="dock-item active" data-tooltip="Home">
                    <i class="ph-fill ph-house"></i>
                </a>

                <a href="skills.html" class="dock-item" data-tooltip="Skills">
                    <i class="ph-bold ph-terminal-window"></i>
                </a>

                <a href="projects.html" class="dock-item" data-tooltip="Projects">
                    <i class="ph-bold ph-cube"></i>
                </a>

                <div class="dock-item avatar-item">
                    <img src="download.jpg" alt="Me" class="avatar-img">
                </div>

                <a href="contact.html" class="dock-item" data-tooltip="Resume">
                    <i class="ph-bold ph-file-text"></i>
                </a>

                <a href="https://github.com/Piyushambhore" target="_blank" class="dock-item" data-tooltip="GitHub">
                    <i class="ph-bold ph-github-logo"></i>
                </a>

                <div class="dock-item group-trigger" data-tooltip="Connect">
                    <i class="ph-bold ph-arrow-up-right"></i>

                    <div class="social-popup">
                        <a href="https://instagram.com/" target="_blank"><i class="ph-bold ph-instagram-logo"></i></a>
                        <a href="https://linkedin.com/" target="_blank"><i class="ph-bold ph-linkedin-logo"></i></a>
                        <a href="mailto:piyushambhore@outlook.com"><i class="ph-bold ph-envelope-simple"></i></a>
                    </div>
                </div>

            </div>
        </div>

    </main>

    <script src="script.js"></script>
    <script>
        const API_BASE = '/api'; // Vercel serverless functions
        const VISITED_KEY = 'piyush_visited';

        // --- VISITOR COUNTER ---
        async function initVisitorCounter() {
            const counter = document.getElementById('visitor-count');
            const visited = localStorage.getItem(VISITED_KEY);

            try {
                let data;
                if (!visited) {
                    const res = await fetch(`${API_BASE}/visitor`);
                    data = await res.json();
                    localStorage.setItem(VISITED_KEY, Date.now());
                } else {
                    const res = await fetch(`${API_BASE}/visitor`);
                    data = await res.json();
                }

                const target = data.visitorNumber || data.totalVisitors || 0;
                animateNumber(counter, target);
            } catch (e) {
                counter.textContent = '∞';
            }
        }

        function animateNumber(el, target) {
            let current = 0;
            const increment = Math.ceil(target / 30);
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                el.textContent = current.toLocaleString();
            }, 30);
        }

        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(initVisitorCounter, 1000);
        });
    </script>
</body>

</html>